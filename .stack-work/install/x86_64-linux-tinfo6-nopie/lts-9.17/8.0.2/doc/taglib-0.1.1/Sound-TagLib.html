<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sound.TagLib</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Sound-TagLib.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Sound.TagLib.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">taglib-0.1.1: Binding to TagLib (ID3 tag library)</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Brandon Bickford 2008</td></tr><tr><th>License</th><td>LGPL v3</td></tr><tr><th>Maintainer</th><td>Brandon Bickford &lt;bickfordb@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>only tested with GHC</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Sound.TagLib</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data Types</a></li><li><a href="#g:2">TagFile operations</a></li><li><a href="#g:3">Tag Operations</a></li><li><a href="#g:4">AudioProperties Operations</a></li><li><a href="#g:5">Example</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>High level interface to read and write ID3 tag fields (album, artist,
 comment, genre, title, track number, year) and get audio properties (length,
 bit rate, sample rate, channels)</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:AudioProperties">AudioProperties</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Tag">Tag</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TagFile">TagFile</a> = <a href="../base-4.9.1.0/Foreign-ForeignPtr.html#t:ForeignPtr">ForeignPtr</a> Void</li><li class="src short"><a href="#v:open">open</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Sound-TagLib.html#t:TagFile">TagFile</a>)</li><li class="src short"><a href="#v:save">save</a> :: <a href="Sound-TagLib.html#t:TagFile">TagFile</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:tag">tag</a> :: <a href="Sound-TagLib.html#t:TagFile">TagFile</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Sound-TagLib.html#t:Tag">Tag</a>)</li><li class="src short"><a href="#v:album">album</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:artist">artist</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:comment">comment</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:genre">genre</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:setAlbum">setAlbum</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:setArtist">setArtist</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:setComment">setComment</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:setGenre">setGenre</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:setTitle">setTitle</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:setTrack">setTrack</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:setYear">setYear</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:title">title</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:track">track</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:year">year</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:audioProperties">audioProperties</a> :: <a href="Sound-TagLib.html#t:TagFile">TagFile</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a>)</li><li class="src short"><a href="#v:bitRate">bitRate</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:channels">channels</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:duration">duration</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:sampleRate">sampleRate</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a></li></ul></div><div id="interface"><h1 id="g:1">Data Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AudioProperties" class="def">AudioProperties</a> <a href="src/Sound.TagLib.html#AudioProperties" class="link">Source</a> <a href="#t:AudioProperties" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Tag" class="def">Tag</a> <a href="src/Sound.TagLib.html#Tag" class="link">Source</a> <a href="#t:Tag" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TagFile" class="def">TagFile</a> = <a href="../base-4.9.1.0/Foreign-ForeignPtr.html#t:ForeignPtr">ForeignPtr</a> Void <a href="src/Sound.TagLib.html#TagFile" class="link">Source</a> <a href="#t:TagFile" class="selflink">#</a></p></div><h1 id="g:2">TagFile operations</h1><div class="top"><p class="src"><a id="v:open" class="def">open</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Sound-TagLib.html#t:TagFile">TagFile</a>) <a href="src/Sound.TagLib.html#open" class="link">Source</a> <a href="#v:open" class="selflink">#</a></p><div class="doc"><p>Open a filename and possibly get a TagFile</p></div></div><div class="top"><p class="src"><a id="v:save" class="def">save</a> :: <a href="Sound-TagLib.html#t:TagFile">TagFile</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#save" class="link">Source</a> <a href="#v:save" class="selflink">#</a></p><div class="doc"><p>Save changes to a tag</p></div></div><h1 id="g:3">Tag Operations</h1><div class="top"><p class="src"><a id="v:tag" class="def">tag</a> :: <a href="Sound-TagLib.html#t:TagFile">TagFile</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Sound-TagLib.html#t:Tag">Tag</a>) <a href="src/Sound.TagLib.html#tag" class="link">Source</a> <a href="#v:tag" class="selflink">#</a></p><div class="doc"><p>Get a Tag from a TagFile, if it has one</p></div></div><div class="top"><p class="src"><a id="v:album" class="def">album</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Sound.TagLib.html#album" class="link">Source</a> <a href="#v:album" class="selflink">#</a></p><div class="doc"><p>Get an album string from a Tag</p></div></div><div class="top"><p class="src"><a id="v:artist" class="def">artist</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Sound.TagLib.html#artist" class="link">Source</a> <a href="#v:artist" class="selflink">#</a></p><div class="doc"><p>Get an artist string from a Tag</p></div></div><div class="top"><p class="src"><a id="v:comment" class="def">comment</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Sound.TagLib.html#comment" class="link">Source</a> <a href="#v:comment" class="selflink">#</a></p><div class="doc"><p>Get the comment string from a Tag</p></div></div><div class="top"><p class="src"><a id="v:genre" class="def">genre</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Sound.TagLib.html#genre" class="link">Source</a> <a href="#v:genre" class="selflink">#</a></p><div class="doc"><p>Get the comment string from a Tag</p></div></div><div class="top"><p class="src"><a id="v:setAlbum" class="def">setAlbum</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setAlbum" class="link">Source</a> <a href="#v:setAlbum" class="selflink">#</a></p><div class="doc"><p>Set the album of a tag</p></div></div><div class="top"><p class="src"><a id="v:setArtist" class="def">setArtist</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setArtist" class="link">Source</a> <a href="#v:setArtist" class="selflink">#</a></p><div class="doc"><p>Set the artist of a tag</p></div></div><div class="top"><p class="src"><a id="v:setComment" class="def">setComment</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setComment" class="link">Source</a> <a href="#v:setComment" class="selflink">#</a></p><div class="doc"><p>Set the comment of a tag</p></div></div><div class="top"><p class="src"><a id="v:setGenre" class="def">setGenre</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setGenre" class="link">Source</a> <a href="#v:setGenre" class="selflink">#</a></p><div class="doc"><p>Set the genre of a tag</p></div></div><div class="top"><p class="src"><a id="v:setTitle" class="def">setTitle</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setTitle" class="link">Source</a> <a href="#v:setTitle" class="selflink">#</a></p><div class="doc"><p>Set the title of a tag</p></div></div><div class="top"><p class="src"><a id="v:setTrack" class="def">setTrack</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setTrack" class="link">Source</a> <a href="#v:setTrack" class="selflink">#</a></p><div class="doc"><p>Set the track of a tag</p></div></div><div class="top"><p class="src"><a id="v:setYear" class="def">setYear</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Sound.TagLib.html#setYear" class="link">Source</a> <a href="#v:setYear" class="selflink">#</a></p><div class="doc"><p>Set the year of a tag</p></div></div><div class="top"><p class="src"><a id="v:title" class="def">title</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Sound.TagLib.html#title" class="link">Source</a> <a href="#v:title" class="selflink">#</a></p><div class="doc"><p>Get a title string from a Tag</p></div></div><div class="top"><p class="src"><a id="v:track" class="def">track</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#track" class="link">Source</a> <a href="#v:track" class="selflink">#</a></p><div class="doc"><p>Get the track number from a Tag.  Empty values will be 0</p></div></div><div class="top"><p class="src"><a id="v:year" class="def">year</a> :: <a href="Sound-TagLib.html#t:Tag">Tag</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#year" class="link">Source</a> <a href="#v:year" class="selflink">#</a></p><div class="doc"><p>Get the year from a Tag.  Empty values will be 0</p></div></div><h1 id="g:4">AudioProperties Operations</h1><div class="top"><p class="src"><a id="v:audioProperties" class="def">audioProperties</a> :: <a href="Sound-TagLib.html#t:TagFile">TagFile</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a>) <a href="src/Sound.TagLib.html#audioProperties" class="link">Source</a> <a href="#v:audioProperties" class="selflink">#</a></p><div class="doc"><p>Get the AudioProperties from a TagFile</p></div></div><div class="top"><p class="src"><a id="v:bitRate" class="def">bitRate</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#bitRate" class="link">Source</a> <a href="#v:bitRate" class="selflink">#</a></p><div class="doc"><p>Get the bitRate from AudioProperties</p></div></div><div class="top"><p class="src"><a id="v:channels" class="def">channels</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#channels" class="link">Source</a> <a href="#v:channels" class="selflink">#</a></p><div class="doc"><p>Get the number of channels from AudioProperties</p></div></div><div class="top"><p class="src"><a id="v:duration" class="def">duration</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#duration" class="link">Source</a> <a href="#v:duration" class="selflink">#</a></p><div class="doc"><p>Get the duration (in seconds) from AudioProperties 
In TagLib, this is named length.  This is renamed so that it doesn't conflict with the Prelude length</p></div></div><div class="top"><p class="src"><a id="v:sampleRate" class="def">sampleRate</a> :: <a href="Sound-TagLib.html#t:AudioProperties">AudioProperties</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> <a href="src/Sound.TagLib.html#sampleRate" class="link">Source</a> <a href="#v:sampleRate" class="selflink">#</a></p><div class="doc"><p>Get the sampleRate from AudioProperties</p></div></div><h1 id="g:5">Example</h1><div class="doc"><pre>module Main where 

import qualified Sound.TagLib as TagLib
import Data.Maybe
import Control.Monad
import System

main = do
    args &lt;- getArgs 
    mapM showFile args

withMaybe :: (Maybe j) -&gt; (j -&gt; IO ()) -&gt; IO () 
withMaybe mebbe action = do
    case mebbe of 
        Just x -&gt; do action x 
                     return ()
        Nothing -&gt; return ()

showFile filename = do
    t &lt;- TagLib.open filename
    withMaybe t showTagFile

showTagFile :: TagLib.TagFile -&gt; IO ()
showTagFile tagFile = do
    t &lt;- TagLib.tag tagFile
    withMaybe t showTag
    p &lt;- TagLib.audioProperties tagFile
    withMaybe p showAudioProperties 

showTag :: TagLib.Tag -&gt; IO ()
showTag tag = do 
    artist &lt;- TagLib.artist tag
    album &lt;- TagLib.album tag
    title &lt;- TagLib.title tag
    comment &lt;- TagLib.comment tag
    year &lt;- TagLib.year tag
    track &lt;- TagLib.track tag
    print (artist, album, title, year, track)

showAudioProperties :: TagLib.AudioProperties -&gt; IO ()
showAudioProperties props = do
    bitrate &lt;- TagLib.bitRate props
    length &lt;- TagLib.duration props
    samplerate &lt;- TagLib.sampleRate props
    channels &lt;- TagLib.channels props
    print (bitrate, length, channels, samplerate)
</pre></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>